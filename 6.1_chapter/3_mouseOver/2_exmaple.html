<!--
->event delegation on table to highlight cells 

  -->

  <!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
   
  <style>
    #text {
  display: block;
  height: 100px;
  width: 456px;
}

#table th {
  text-align: center;
  font-weight: bold;
}

#table td {
  width: 150px;
  white-space: nowrap;
  text-align: center;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 12px;
  cursor: pointer;
}

#table .nw {
  background: #999;
}

#table .n {
  background: #03f;
  color: #fff;
}

#table .ne {
  background: #ff6;
}

#table .w {
  background: #ff0;
}

#table .c {
  background: #60c;
  color: #fff;
}

#table .e {
  background: #09f;
  color: #fff;
}

#table .sw {
  background: #963;
  color: #fff;
}

#table .s {
  background: #f60;
  color: #fff;
}

#table .se {
  background: #0c3;
  color: #fff;
}

#table .highlight {
  background: red;
}
  </style>
</head>

<body>


  <table id="table">
    <tr>
      <th colspan="3"><em>Bagua</em> Chart: Direction, Element, Color, Meaning</th>
    </tr>
    <tr>
      <td class="nw"><strong>Northwest</strong>
        <br>Metal
        <br>Silver
        <br>Elders
      </td>
      <td class="n"><strong>North</strong>
        <br>Water
        <br>Blue
        <br>Change
      </td>
      <td class="ne"><strong>Northeast</strong>
        <br>Earth
        <br>Yellow
        <br>Direction
      </td>
    </tr>
    <tr>
      <td class="w"><strong>West</strong>
        <br>Metal
        <br>Gold
        <br>Youth
      </td>
      <td class="c"><strong>Center</strong>
        <br>All
        <br>Purple
        <br>Harmony
      </td>
      <td class="e"><strong>East</strong>
        <br>Wood
        <br>Blue
        <br>Future
      </td>
    </tr>
    <tr>
      <td class="sw"><strong>Southwest</strong>
        <br>Earth
        <br>Brown
        <br>Tranquility
      </td>
      <td class="s"><strong>South</strong>
        <br>Fire
        <br>Orange
        <br>Fame
      </td>
      <td class="se"><strong>Southeast</strong>
        <br>Wood
        <br>Green
        <br>Romance
      </td>
    </tr>

  </table>

  <script>
   
//    CASE 1 : TO SLOVE JUST USING MOUSEOVER : BUT PRO IS 
// INSIDE TEXT ARE ALSO GETTING HIGHLITED AND ALSO THE TABLE GETTING HIGLITED 

    // let table1 = document.getElementById("table") ; 
    // table1.addEventListener("mouseover",function(e){
    //     let cell = e.target ; 
    //     cell.style.backgroundColor = "pink";
    // })
    // table1.addEventListener("mouseout",function(e){
    //     let cell = e.target ; 
    //     cell.style.backgroundColor = "";
    // })  

    // CASE 2 : ONLY THE CELL MUST HIGHTLIGHT 
    let table2 =   document.getElementById("table") ; 
    let currELe = null ; 

    table2.addEventListener("mouseover",function (e){

        let element = e.target ; 
        let td = element.closest("td") ; 
        if(!td) return ; 
        if(!table2.contains(td)) return ; 
        
        currELe = td ; 
        td.style.backgroundColor = "pink" ; 

    })
    // here mouseout is important we may mouseout the strong but still in td so no need to change the color 
    //handle that case if we are completely out than we can de-highlight the cell 
    table2.addEventListener("mouseout",function (e){
        
        if(!currELe) return ; // actulayy not highlighted any of cell 
        
        let relatedTarget = e.relatedTarget ; 
        while(relatedTarget){

            if(relatedTarget==currELe){
                return  ; 
            }
            relatedTarget = relatedTarget.parentNode ;   //important 
        }
        currELe.style.backgroundColor = "" ; 
        currELe = null ; 


    })

  </script>

  

</body>
</html>
